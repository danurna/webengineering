<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" type="text/css" href="styles/screen.css" />
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/framework.js"></script>
    <script type="text/javascript">

    var gametime, refreshRate, interval;

    function clickOnAnswer(object)
    {
        if( $(object).hasClass("selected") ){
            $(object).removeClass("selected");
        }else{
            $(object).addClass("selected");
        }
    }

    // Call like setAnswered("1", "2", true)
    function setAnswered(playernumber, questionnumber, correct){
        var scoreId = "score"+playernumber;
        var pointId = "point"+questionnumber;

        $("#"+scoreId+" ."+pointId+" .unknownSign").hide();
        if( correct ){
            $("#"+scoreId+" ."+pointId+" .incorrectSign").hide();
            $("#"+scoreId+" ."+pointId+" .correctSign").show();
        }else{
            $("#"+scoreId+" ."+pointId+" .incorrectSign").show();
            $("#"+scoreId+" ."+pointId+" .correctSign").hide();
        }

    }


    function decrementTimer(){
        if( gametime > 0 ){
            gametime -= refreshRate;
            $("#time").val(gametime);

            var ceil = Math.ceil(gametime);
            var timeText = ceil<10?"0"+ceil:ceil;
            $("#time_text").html("00:"+timeText);
        } else {
            clearInterval(interval);
        }
    }

    // Setup on document ready
    // Adding click handler, hiding elements.
    $(document).ready(function() {
        gametime = parseInt($('#time').attr('max'));
        refreshRate = 0.05;

        $(".answer").click(function(){
            clickOnAnswer(this);
        });
        $(".correctSign").hide();
        $(".incorrectSign").hide();

        interval = setInterval(function(){
            decrementTimer();
        }, refreshRate*1000);

    });
    </script>

    <title>Business Informatics Group Quiz</title>
</head>
<body>
    <header id="header">
        <img src="img/big-logo-small.png" alt="Business Informatics Group Logo" />
        <h1>Quiz</h1>
        <p>Abmelden</p>
        <!-- TODO: Abmelden button stylen. Eigenes div mit button klasse? -->
    </header>

    <main class="clr" id="main">
        <section id="content">
            <header id="questionheader">
                <div class="playerscore" id="score1"> <p>Spieler 1</p> 
                    <div class="point point1">  
                        <img class="incorrectSign" src="img/incorrect-white.png" alt="incorrect answer sign, cross" />
                        <img class="correctSign" src="img/correct-white.png" alt="correct answer sign, filled circle" />
                        <img class="unknownSign" src="img/unknown-white.png" alt="unknown answer sign, empty circle" />
                    </div>
                    <div class="point point2"> 
                        <img class="incorrectSign" src="img/incorrect-white.png" alt="incorrect answer sign, cross" />
                        <img class="correctSign" src="img/correct-white.png" alt="correct answer sign, filled circle" />
                        <img class="unknownSign" src="img/unknown-white.png" alt="unknown answer sign, empty circle" />
                    </div>
                    <div class="point point3"> 
                        <img class="incorrectSign" src="img/incorrect-white.png" alt="incorrect answer sign, cross" />
                        <img class="correctSign" src="img/correct-white.png" alt="correct answer sign, filled circle" />
                        <img class="unknownSign" src="img/unknown-white.png" alt="unknown answer sign, empty circle" />
                    </div>
                </div> 
                <div id="category"> <p>EWA</p> </div> 
                <div class="playerscore" id="score2"> <p>Spieler 2</p>
                     <div class="point point1"> 
                        <img class="incorrectSign" src="img/incorrect-white.png" alt="incorrect answer sign, cross" />
                        <img class="correctSign" src="img/correct-white.png" alt="correct answer sign, filled circle" />
                        <img class="unknownSign" src="img/unknown-white.png" alt="unknown answer sign, empty circle" />
                    </div>
                    <div class="point point2"> 
                        <img class="incorrectSign" src="img/incorrect-white.png" alt="incorrect answer sign, cross" />
                        <img class="correctSign" src="img/correct-white.png" alt="correct answer sign, filled circle" />
                        <img class="unknownSign" src="img/unknown-white.png" alt="unknown answer sign, empty circle" />
                    </div>
                    <div class="point point3"> 
                        <img class="incorrectSign" src="img/incorrect-white.png" alt="incorrect answer sign, cross" />
                        <img class="correctSign" src="img/correct-white.png" alt="correct answer sign, filled circle" />
                        <img class="unknownSign" src="img/unknown-white.png" alt="unknown answer sign, empty circle" />
                    </div>
                 </div> 
            </header> 
            <div class="clr" id="questioncontent">
                <div id="question"><p>Welche zwei LVAs werden im Modul EWA zusammengefasst?</p></div>
                <div class="col">
                    <div class="answer" id="answer1"><p>IT Strategie</p></div>
                </div>
                <div class="col">
                    <div class="answer" id="answer2"><p>Web Engineering</p></div>
                </div>
                <div class="col">
                    <div class="answer" id="answer3"><p>Semistrukturierte Daten</p></div>
                </div>
                <div class="col">
                    <div class="answer" id="answer4"><p>Objektorientierte Modellierung</p></div>
                </div>
            </div>
            <footer class="clr" id="questionfooter">
                <div id="next_container" class="col">
                    <button class="button next">
                        <span class="button_text">weiter</span><img class="button_icon" src="img/white-arrow-right.png" alt="white arrow pointing rightwards" />
                    </button>
                </div>
                <!-- TODO: Button stylen und alignen. Eigenes div? Soll beim kleinen Screen über verbleibender Zeit sein, how to? -->
                <div class="col clearafter" id="info_container">
                    <p>Verbleibende Zeit: </p><p id="time_text">00:30</p>
                    <meter id="time" min="0" max="30" value="0">.</meter>
                    <p>Letztes Spiel: Nie</p>
                </div>
                <!-- TODO: Zeit, progress bar, last game.-->
            </footer>
        </section>
    </main>
    <div class="clr" id="footer">
        <p>© 2014 BIG Quiz</p>
        <!-- hab clr klasse hier benutzt da die klassen drüber display: block und float: left verwenden -->
    </div>

</body>
</html>